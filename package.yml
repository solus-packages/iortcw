name       : iortcw
version    : 1.51b
release    : 1
source     :
    - https://github.com/iortcw/iortcw/archive/1.51b.tar.gz : e02a212700dd7745bc3ac1f5e5d8006e2f2b961afa5f9ec5e18c56373b149e1d
license    : GPL-3.0-or-later
component  : games.action
summary    : Return To Castle Wolfenstein source port
description: |
    The intent of this project is to provide a baseline RTCW which may be used for further development and fun.
    Game data must be placed in ~/.wolf/main/.
builddeps  :
    - pkgconfig(freetype2)
    - pkgconfig(gl)
    - pkgconfig(libcurl)
    - pkgconfig(libjpeg)
    - pkgconfig(openal)
    - pkgconfig(opusfile)
    - pkgconfig(sdl2)
build      : |
    export USE_INTERNAL_LIBS=0
    pushd SP
      %make
    popd
    pushd MP
      %make
    popd
install    : |
    export COPYDIR=$installdir/usr/share/iortcw USE_INTERNAL_LIBS=0
    pushd SP
      %make copyfiles
    popd
    pushd MP
      %make copyfiles
    popd

    install -Dm00644 SP/misc/iortcw.svg $installdir/usr/share/icons/hicolor/scalable/apps/iortcw.svg

    install -Dm00644 $pkgfiles/iowolfsp.desktop $installdir/usr/share/applications/iowolfsp.desktop
    install -Dm00644 $pkgfiles/iowolfmp.desktop $installdir/usr/share/applications/iowolfmp.desktop